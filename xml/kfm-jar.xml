<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE page PUBLIC "-//CAFEBABE//DTD page 1.0//EN" 
                      "../dtd/page.dtd">

<page lang="fr" 
      id="kfm-jar" 
      date="2000-06-07" 
      email="casa@sweetohm.net" 
      author="Michel CASABIANCA">

 <title>KFM et Jars</title>

  <text>

   <figure url="kfm-jar.screen.png"/>

   <p>Lancer une application contenue dans un fichier Jar est extrêmement
    simple sous Windows ou Solaris : il suffit de cliquer ! Quid de Linux ?
    Ce n'est pas possible de manière générale car cela dépend du gestionnaire
    de fichier (il doit reconnaître l'extension .jar et lancer <code>java 
     -jar</code>).</p>

   <p>Cependant, le système de types MIME de KFM (gestionnaire de
    fichiers de KDE) permet une telle association : il suffit de lui
    indiquer comment lancer un fichier Jar. Pour ce faire, il existe
    deux méthodes :</p>

   <sect><title>À la main</title>

    <list>
     <item>Lancer KFM, puis cliquer sur le menu <imp>Edition/Types MIME</imp>.
      Changer de répertoire pour <imp>application</imp>. Cliquer avec le
      bouton droit et sélectionner <imp>Nouveau/Type MIME</imp>. La fenêtre
      d'édition d'un nouveau type apparaît. Dans le panneau <imp>Général</imp>,
      entrer "x-jar.kdelnk" comme nom du fichier. Dans le panneau 
      <imp>Liaison</imp>, indiquer "*.jar;" comme Filtres et "application/x-jar"
      comme Type MIME. Cliquer sur OK pour fermer la fenêtre d'édition. Nous
      avons ainsi créé un nouveau type MIME pour les fichiers Jar.</item>
     <item>Reste maintenant à lui associer une application. Cliquer sur
      le menu <imp>Edition/Applications</imp> et se rendre dans le répertoire
      <imp>System</imp>. Cliquer avec le bouton droit de la souris et 
      sélectionner <imp>Nouveau/Application</imp> pour faire apparaître
      la fenêtre d'édition des applications. Dans le panneau <imp>Général</imp>,
      indiquer "jar.kdelnk" comme Nom du fichier. Dans le panneau 
      <imp>Exécution</imp>, indiquer "java -jar" pour Exécuter. Dans le
      panneau <imp>Application</imp>, indiquer "jar;" comme titre de 
      l'exécutable et sélectionner "application/x-jar" dans la liste de
      droite, puis cliquer sur &lt;- pour l'afficher dans la liste de gauche.
      Cliquer sur OK pour refermer la fenêtre.</item>
    </list>

    <p>Tout est maintenant prêt. Quitter X puis le relancer. Lorsque
     vous cliquez sur un fichier .jar, KFM le lance dorénavant (à
     condition que le fichier MANIFEST contienne une entrée Main-Class).</p>

   </sect>

   <sect><title>Auto installeur</title>

    <p>Toute cette procédure peut vous être épargnée en recopiant les
     fichiers de définition du type MIME et de l'application dans les
     répertoires qui conviennent. C'est le but de l'auto installeur que
     vous pouvez charger ci-dessous :</p>

    <table>
     <li>
      <co>Auto installeur 
       <link url="../arc/kfm-jar-0.0.jar">kfm-jar-0.0.jar</link>
       (43 ko environ)</co>
     </li>
    </table>

    <p>Pour lancer l'installation, se placer dans le répertoire de
     l'archive et taper (une dernière fois ;o) 
     <code>java -jar kfm-jar-0.0.jar</code>. Relancer X et cliquer sur
     l'archive de l'installeur : Il se lance maintenant tout seul !</p>

    <frame>
     <p>Pour lancer l'installeur, il existe deux méthodes :</p>
     <enum>
      <item>Se logger sur votre compte personnel (pas sous root). Ne pas
       changer le répertoire d'installation.</item>
      <item>Se logger sous root et changer le répertoire d'installation
       pour le home de vos comptes (par exemple <file>/home/foo</file> pour
       installer les fichiers pour l'utilisateur foo).</item>
     </enum>
    </frame>

   </sect>

   <p>La méthode décrite ci-dessus a été testée sous KDE 1.1.2. Merci de
    me faire part de vos expériences sous d'autres versions de KDE (en
    particulier la 2.0). Il doit exister une méthode pour lancer les
    fichiers Jar sous Gnome, merci de me faire part de la méthode pour
    que je mette un installeur au point.</p>

  </text>

</page>

